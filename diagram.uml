@startuml
    !theme aws-orange
    !theme plain

    set namespaceSeparator ::

    left to right direction

    abstract class "Core::Generic Domain::BaseRepository" {
      +BaseMapper<BaseEntity, BaseModel> mapper
      +BaseDataSource DataSource
    }

    "Core::Generic Domain::BaseRepository" o-- "Core::Generic Domain::Mapper::BaseMapper<BaseEntity, BaseModel>"
    "Core::Generic Domain::BaseRepository" o-- "Core::Generic Domain::BaseDataSource"

    abstract class "Core::Generic Domain::Mapper::BaseMapper" {
      +M toModel()
      +E toEntity()
    }

    abstract class "Core::Generic Domain::BaseModel" {
    }

    abstract class "Core::Generic Domain::BaseService" {
      +BaseRepository repository
    }

    "Core::Generic Domain::BaseService" o-- "Core::Generic Domain::BaseRepository"

    abstract class "Core::Generic Domain::BaseDataSource" {
    }

    abstract class "Core::Generic Domain::BaseEntity" {
    }

    class "Market Ticks::Data::TickStreamRepoistory" {
      +Stream<TickStreamEntity> getTickStream()
    }

    "Core::Generic Domain::BaseRepository" <|-- "Market Ticks::Data::TickStreamRepoistory"

    class "Market Ticks::Data::TickStreamModel" {
      +double ask
      +double bid
      +int epoch
      +String id
      +int pipSize
      +double quote
      +String symbol
    }

    "Core::Generic Domain::BaseModel" <|-- "Market Ticks::Data::TickStreamModel"

    class "Market Ticks::Data::TickStreamMapper" {
      +TickStreamModel toModel()
      +TickStreamEntity toEntity()
    }

    "Core::Generic Domain::Mapper::BaseMapper" <|-- "Market Ticks::Data::TickStreamMapper"

    class "Market Ticks::Data::TickStreamDataSource" {
      +Stream<Map<String, dynamic>> getTickStream()
    }

    "Core::Generic Domain::BaseDataSource" <|-- "Market Ticks::Data::TickStreamDataSource"

    class "Market Ticks::Presentation::TickStreamService" {
      +Stream<TickStreamEntity> getTickStream()
    }

    "Core::Generic Domain::BaseService" <|-- "Market Ticks::Presentation::TickStreamService"

    class "Market Ticks::Presentation::TickStreamWidget" {
      +TickStreamEntity entity
    }

    "Market Ticks::Presentation::TickStreamWidget" o-- "Market Ticks::Presentation::TickStreamEntity"

    class "Market Ticks::Presentation::TickStreamCubitExtended" {
    }

    "Market Ticks::Presentation::State::TickSteamCubit" <|-- "Market Ticks::Presentation::TickStreamCubitExtended"

    class "Market Ticks::Presentation::TickStreamEntity" {
      +double ask
      +double bid
      +int epoch
      +String id
      +int pipSize
      +double quote
      +String symbol
    }

    "Core::Generic Domain::BaseEntity" <|-- "Market Ticks::Presentation::TickStreamEntity"

    class "Market Ticks::Presentation::State::TickSteamCubit" {
      +TickStreamService service
      +void getTickStream()
    }

    "Market Ticks::Presentation::State::TickSteamCubit" o-- "Market Ticks::Presentation::TickStreamService"

    abstract class "Market Ticks::Presentation::State::TickStreamState" {
    }

    class "Market Ticks::Presentation::State::TickStreamInitialState" {
    }

    "Market Ticks::Presentation::State::TickStreamState" <|-- "Market Ticks::Presentation::State::TickStreamInitialState"

    class "Market Ticks::Presentation::State::TickStreamLoadingState" {
    }

    "Market Ticks::Presentation::State::TickStreamState" <|-- "Market Ticks::Presentation::State::TickStreamLoadingState"

    class "Market Ticks::Presentation::State::TickStreamLoadedState" {
      +TickStreamEntity tick
    }

    "Market Ticks::Presentation::State::TickStreamLoadedState" o-- "Market Ticks::Presentation::TickStreamEntity"
    "Market Ticks::Presentation::State::TickStreamState" <|-- "Market Ticks::Presentation::State::TickStreamLoadedState"

    class "Market Ticks::Presentation::State::TickStreamErrorState" {
      +String message
    }

    "Market Ticks::Presentation::State::TickStreamState" <|-- "Market Ticks::Presentation::State::TickStreamErrorState"

    class "Market Ticks::Presentation::TickStreamPage" {
    }

    "Market Ticks::Presentation::TickStreamPage" o-- "Market Ticks::Presentation::TickStreamWidget"
    "Market Ticks::Presentation::TickStreamPage" o-- "Market Ticks::Presentation::TickStreamCubitExtended"
@enduml
