@startuml

!theme plain

left to right direction

set namespaceSeparator ::

abstract class "BlocManager::BaseStateListener" {
}

class "BlocManager::StateListener" {
  +void onState()
}

class "PresentationLayer::ExtendedBloc" {
  +void onState()
}

abstract class "DomainLayer::BaseEntity" {
}

class "DomainLayer::Entity" {
}

"DomainLayer::BaseEntity" <|-- "DomainLayer::Entity"

abstract class "DomainLayer::BaseModel" {
}

class "DataLayer::Model" {
}

"DomainLayer::BaseModel" <|-- "DataLayer::Model"

abstract class "DomainLayer::BaseMapper" {
}

class "DataLayer::Mapper" {
}

"DomainLayer::BaseMapper" <|-- "DataLayer::Mapper"

abstract class "DomainLayer::BaseDataSource" {
}

class "DataLayer::DataSource" {
}

"DomainLayer::BaseDataSource" <|-- "DataLayer::DataSource"

abstract class "DomainLayer::BaseRepository" {
  +BaseMapper<BaseEntity, BaseModel> mapper
  +BaseDataSource<BaseModel> dataSource
}

class "DataLayer::Repository" {
  +DataSource dataSource
  +Mapper mapper
}

"DomainLayer::BaseRepository" <|-- "DataLayer::Repository"

abstract class "DomainLayer::BaseService" {
  +BaseRepository<BaseEntity, BaseModel> repository
}

class "PresentationLayer::Service" {
  +BaseRepository<BaseEntity, BaseModel> repository
}

"DomainLayer::BaseService" <|-- "PresentationLayer::Service"

class "PresentationLayer::Bloc" {
  +BaseService service
}

"PresentationLayer::Bloc" o-- "DomainLayer::BaseService"

class "PresentationLayer::Widget" {
}

class "PresentationLayer::Page" {
  +ExtendedBloc bloc
  +Widget widget
}

"PresentationLayer::Page" o-- "PresentationLayer::ExtendedBloc"
"PresentationLayer::Page" o-- "PresentationLayer::Widget"

"DomainLayer::BaseRepository" o-- "DomainLayer::BaseMapper<BaseEntity, BaseModel>"
"DomainLayer::BaseRepository" o-- "DomainLayer::BaseDataSource<BaseModel>"
"PresentationLayer::Service" o-- "DomainLayer::BaseRepository<BaseEntity, BaseModel>"
"DataLayer::Repository" o-- "DataLayer::DataSource"
"DataLayer::Repository" o-- "DataLayer::Mapper"
"BlocManager::StateListener" <|-- "PresentationLayer::ExtendedBloc"

@enduml
